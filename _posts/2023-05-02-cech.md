---
layout: post
title: Čech Cohomology for Physicists
categories: [Physics, QFT]
---

Our motivation comes from wanting to put [Spinors on Curved Spacetime](https://TODO) (an upcoming blog)

Theorem: A spin structure on an orientable Riemannian manifold exists iff the second Stiefel-Whitney class $H^2 (M, \mathbb Z_2) $ vanishes.

Let's unpack this theorem.

The Stiefel-Whitney class is the Čech cohomology class $\check{{H}}(M, G)$ with abelian group $G=\mathbb Z_2$. 

# Motivation
Here is an extremely brief intuition for Čech cohomology.

Suppose we want to define a function on $[0,1]$. Since this space can be covered by one chart, we can just define $f:[0,1] \rightarrow \mathbb R$.

However, suppose the domain of the function we want to define cannot be covered by one chart alone. For example it is $S^1$, which can only be covered by at least 3 charts. (Not 2 because we want a good covering meaning that intersections are contractible.)

Anyway, let's start simple and say that $[0,1]$ is covered by $U=[0,0.6]$ and $V=[0.4, 1]$. If we have 2 functions $f_U:U\to\mathbb R$ and $f_V:V\to\mathbb R$, then our life would be really easy if the functions agreed pointwise on the intersection $U\cap V$

$$f_U|_{U\cap V} = f_V|_{U \cap V}$$

In which case we can just define $f: U \cup V \to \mathbb R$ by $f(U\backslash U \cap V) = f_U$ and $f(V\backslash U\cap V) = f_V$ and pick either $f_U$ or $f_V$ on the intersection.

But sometimes life isn't that easy and they disagree on their intersection. Well not all is lost. In the definition of manifolds, the coordinate atlas have transition maps $\phi_i \circ \phi_j^{-1}: \mathbb R^d \to \mathbb R^d$ between different coordinate charts. In the definition of sections (not global sections) of vector bundles, $\sigma_j(m) = \sigma_i(m) \bullet_R t_{ij}(m)$ where $t_{ij}(m) \in G$ is the transition map acting on vector fibers ([source](https://tch1001.github.io/math/physics/qft/gauge%20theory/2023/04/27/ehresmann.html)). We can still do calculations as long as there is a specified way to move calculations from one chart to another.

In our case of real-valued functions, the transition is just 

$$(\delta f)_{U \cap V} := f_U|_{U\cap V} - f_V|_{U \cap V}$$

The Čech differential is a symbol that we use to "generate" transition functions. This is a very specific case of the Čech differential $\delta$.

## Breaking Down Definitions
The [Čech Differential](https://en.wikipedia.org/wiki/%C4%8Cech_cohomology#Differential) on Wikipedia seems a lot more than what we have just defined. And it is! But let's try to break down the wiki definition.

### Cochain
**Math**: The cochain complex $C^\bullet(\mathcal U, \mathcal F)$ is a sequence of $q$-cochain $C^q(\mathcal U, \mathcal F)$ with a coboundary operator $\delta_q:C^q(\mathcal U, \mathcal F) \to C^{q+1}(\mathcal U, \mathcal F)$. 

**English**: There is a sequence of abelian groups (explained soon) with a linear operator going down the sequence in one direction. An example would be the 
$$(\delta f)_{U \cap V} := f_U|_{U\cap V} - f_V|_{U \cap V}$$
we just defined. Linearity would entail that $\delta (f+_q g) = \delta(f) +_{(q+1)} \delta(g)$ where the addition $+_k$ is the addition in abelian group $C^k(\mathcal U, \mathcal F)$.

### Presheaf and Restriction Morphism
**Math**: $\mathcal F$ is the presheaf of abelian groups on topological space $X$. For each inclusion of open sets $V \subset U$ of $X$, there is a restriction morphism $\text{res}_{V,U}: F(U) \to F(V)$ where $F(U)$ is the set of sections of $F$ over $U$.

**English**: $X$ has a topology which means it has a collection $\mathcal O_X$ of open sets $U_\alpha$ that are closed under finite intersection. It is NOT enough that we assign a function $f:U \to \mathbb R$ on **every** $U \in \mathcal O_X$ because we mathematicians like to make things as abstract as possible. Instead, we first say that every open set $U \in \mathcal O_X$ has a possibly different codomain $F(U)$. This is akin to saying that $f_1:(0,1) \to \mathbb Z =: F((0,1))$ and $f_2:(0,0.5) \to \mathbb Z_2 =: F((0,0.5))$ for a space $X=\mathbb R$ with the standard topology. This raises concern because now we can't naively restrict $f_1$ to a smaller domain $(0,0.5)$ by defining $f_1|_{(0,0.5)}$ pointwise $\mathbb Z \not \subset\mathbb Z_2$. This is why we need a restriction morphism $\text{res}_{(0,1), (0,0.5)}: \mathbb Z \to \mathbb Z_2$. 

This seems like alot of data to provide, and it is: that is the cost of generality. In our case of the spin structure, all codomains are just $\mathbb Z_2$ so we won't need to worry about the restriction morphisms (which are just identity on $Z_2$). And indeed in our $\delta f$ example, we mean the trivial restriction with values in $F(U) = \mathbb R$.

An interesting example of a restriction morphism is in [twisted Čech cohomology](https://math.stackexchange.com/questions/2549791/cohomology-with-twisted-coefficients). In this example twisted cohomology over $S^1$ roughly corresponds to the Mobius strip.

### Differential
**Math**:

$$\begin{aligned}
\partial_j \sigma&:=\left(U_i\right)_{i \in\{0, \ldots, q\} \backslash\{j\}}\\
\partial \sigma&:=\sum_{j=0}^q(-1)^{j+1} \partial_j \sigma\\
\left(\delta_q f\right)(\sigma)&:=\sum_{j=0}^{q+1}(-1)^j \operatorname{res}_{|\sigma|}^{\left|\partial_j \sigma\right|} f\left(\partial_j \sigma\right)
\end{aligned}$$

**English**: 
$\sigma$ is a collection of open sets (NOT the intersection YET). $|\sigma|$ is the intersection of this collection. $\partial_j \sigma$ drops the $U_j$ from the collection. So $\partial_j \sigma$ is a (smaller) subcollection of $\sigma$. 

The intersection of the collection $|\partial_j \sigma|$ is hence a larger open set than $|\sigma|$ because we have "dropped" one open set $U_j$ in the intersection. Hence restriction morphism goes from the set of functions on $|\partial_j \sigma|$ to the set of functions on $|\sigma|$.


In the definition above, what is the addition? It occurs in the set of sections/functions (I use them interchangeably) on an open set. Clearly, if we have a 2 functions on $U\cap V$, we can just add them pointwise. 

This also means that a function on $f: U \to F(U)$ and $g:V \to F(V)$, then after applying the restriction morphism on them $\text{res}_{U, U \cap V} : F(U) \to F(U \cap V)$ and $\text{res}_{V, U\cap V} : F(V) \to F(U \cap V)$, we can add 

$$[\text{res}_{U, U \cap V}  \circ f] + [\text{res}_{V, U\cap V} \circ g]$$


### Simplex / Simplices
**Math**: Let $\mathcal U$ be an open cover of $X$. A $q$-simplex is an ordered collection of $q+1$ open sets from $\mathcal U$ with non-empty intersection.

**English**: Suppose $U,V,W$ is an open cover of the topological space of interest. 1-simplices would be $U\cap V$, $U\cap W$, $V \cap W$. 2-simplices would be $U \cap V \cap W$.

### Cochain
**Math**: A $q$-cochain of $\mathcal U$ with coefficients in $\mathcal F$ is a map which associates each $q$-simplex $\sigma$ an element of $\mathcal F(|\sigma|)$, and we denote the set of all $q$-cochains with coefficients in $\mathcal F$ by $C^q(\mathcal U, \mathcal F)$. $C^q(\mathcal U, \mathcal F)$ is an abelian group by pointwise addition.

**English**: Above we wrote $f,g$ as separate functions on open sets $U,V$ respectively. We can pack them together into a 0-cochain $\omega$ in $C^0(\mathcal U, \mathcal F)$. Personally I like to think of 0-cochains as "polymorphic" functions that are defined on any 0-simplex $U, V$. (TODO insert diagram)

### Cocycle
**Math**: A $q$-cochain is called a $q$-cocycle if it is the kernel of $\delta_{q}$. We denote this a $Z^q(\mathcal U, \mathcal F) := \ker (\delta_q) \subseteq C^q (\mathcal U, \mathcal F)$.

**English**: A good example would be the $f,g$ which we packaged into a 0-cochain $\omega$ above. Applying the differential on the 0-cochain gives us 

$$\begin{aligned}
(\delta_0 \omega)(U \cap V) = f|_{U \cap V}(U \cap V) - g|_{U \cap V}(U \cap V)
\end{aligned}$$

If $\omega \in \ker \delta_0$, then that would imply $f = g$ agree on the intersection. So $\omega$ is a "global" section.

Another example that hits close to home is appears in (abelian) gauge theory. The transition functions between local trivializations of a principal bundle need to obey the cocycle condition to be well defined

$$g_{ab} g_{bc} = g_{ac}$$

We can package all the transition functions on the intersections of 2 open sets into a single 1-cochain $g$, a collection of functions $g_{ij}$ on 1-simplicies, which are intersections of 2 open sets $U_i \cap U_j$. The gauge cocycle condition can be rephrased as the statement that the 1-cochain $g$  is a 1-cocycle

$$0 = (\delta_1g)(U_a \cap U_b \cap U_c) = g_{bc} - g_{ac} + g_{ab}$$

where we have written it additively for an abelian gauge group. 

### Cohomology
The Čech differential squares to $0$, the identity element in the abelian group. i.e. $\delta_{q+1} \circ \delta_q = 0$ 

Any time an operator squares to $0$, homology can be defined. Of course whether the homology is actually nontrivial is something else one needs to investigate.

# Example 1

Let's work with abelian group $\mathbb R$ and trivial restriction morphisms. We consider the topological spaces open disk $D_1$ and $S^1$.

Suppose we have 3 charts $U,V,W$ covering $D_1$ (Venn diagram style). Suppose we have a 1-cochain $f$ (a generalized notion of function on $D_1$) consisting of  $f_U: U\to \mathbb R$